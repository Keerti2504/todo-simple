<!doctype html>
<html>
<head><meta charset="utf-8"><title>Todo</title></head>
<body>
  <h1>Todo (simple)</h1>
  <input id="t" placeholder="new task" />
  <button id="add">Add</button>
  <ul id="list"></ul>
<script>
async function load(){ 
  const r=await fetch('/api/todos'); const data=await r.json();
  const ul=document.getElementById('list'); ul.innerHTML='';
  data.forEach(t=>{
    const li=document.createElement('li'); li.textContent=t.title + (t.done ? ' âœ…': '');
    ul.appendChild(li);
  });
}
document.getElementById('add').onclick = async ()=> {
  const v=document.getElementById('t').value;
  if(!v) return;
  await fetch('/api/todos', {method:'POST',headers:{'content-type':'application/json'}, body: JSON.stringify({title:v})});
  document.getElementById('t').value=''; load();
}
load();
</script>
</body>
</html>
